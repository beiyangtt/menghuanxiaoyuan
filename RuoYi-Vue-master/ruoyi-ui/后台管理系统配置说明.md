# 梦幻校园后台管理系统配置说明

## 已完成功能

### 1. 系统界面改造
- ✅ 修改系统标题为"梦幻校园管理系统"
- ✅ 优化登录界面样式（渐变背景、圆角卡片、现代化设计）
- ✅ 修改版权信息

### 2. 用户管理增强
- ✅ 添加在线状态显示（显示用户是否在线）
- ✅ 支持创建新用户账号（用于移动端登录）
- ✅ 支持查看所有注册用户

### 3. 内容管理模块
- ✅ 二手商品管理（列表查看、详情查看、删除功能）
- ✅ 跑腿任务管理（列表查看、详情查看、删除功能）
- ✅ 论坛帖子管理（列表查看、详情查看、删除功能）

### 4. 权限控制
- ✅ 管理员可以删除任何内容（商品、任务、帖子）
- ✅ 普通用户只能删除自己发布的内容

## 菜单配置说明

由于RuoYi框架使用动态菜单，需要在数据库中配置菜单项。请执行以下SQL语句来添加内容管理菜单：

```sql
-- 插入"内容管理"父菜单
INSERT INTO sys_menu(menu_name, parent_id, order_num, path, component, menu_type, visible, status, perms, icon, create_by, create_time, update_by, update_time, remark)
VALUES('内容管理', 0, 5, 'dreamcampus', NULL, 'M', '0', '0', '', 'guide', 'admin', sysdate(), '', NULL, '梦幻校园内容管理');

-- 获取刚插入的父菜单ID（假设为2000，请根据实际情况调整）
SET @parent_id = LAST_INSERT_ID();

-- 插入"二手商品管理"子菜单
INSERT INTO sys_menu(menu_name, parent_id, order_num, path, component, menu_type, visible, status, perms, icon, create_by, create_time, update_by, update_time, remark)
VALUES('二手商品', @parent_id, 1, 'secondhand', 'dreamcampus/secondhand/index', 'C', '0', '0', 'dreamcampus:secondhand:list', 'shopping', 'admin', sysdate(), '', NULL, '二手商品管理菜单');

-- 插入"跑腿任务管理"子菜单
INSERT INTO sys_menu(menu_name, parent_id, order_num, path, component, menu_type, visible, status, perms, icon, create_by, create_time, update_by, update_time, remark)
VALUES('跑腿任务', @parent_id, 2, 'errand', 'dreamcampus/errand/index', 'C', '0', '0', 'dreamcampus:errand:list', 'star', 'admin', sysdate(), '', NULL, '跑腿任务管理菜单');

-- 插入"论坛帖子管理"子菜单
INSERT INTO sys_menu(menu_name, parent_id, order_num, path, component, menu_type, visible, status, perms, icon, create_by, create_time, update_by, update_time, remark)
VALUES('论坛帖子', @parent_id, 3, 'forum', 'dreamcampus/forum/index', 'C', '0', '0', 'dreamcampus:forum:list', 'message', 'admin', sysdate(), '', NULL, '论坛帖子管理菜单');
```

## 权限配置

管理员账号（userId=1）默认拥有所有权限。如果需要为其他角色分配权限，请在"系统管理 -> 角色管理"中配置相应的菜单权限。

## 使用说明

### 1. 用户管理
- 访问路径：系统管理 -> 用户管理
- 功能：
  - 查看所有注册用户
  - 查看用户在线状态（绿色"在线"标签表示用户当前在线）
  - 创建新用户（点击"新增"按钮）
  - 修改用户信息
  - 删除用户
  - 重置用户密码

### 2. 二手商品管理
- 访问路径：内容管理 -> 二手商品
- 功能：
  - 查看所有商品列表
  - 搜索商品（按标题、状态）
  - 查看商品详情
  - 删除商品（管理员可删除任何商品）

### 3. 跑腿任务管理
- 访问路径：内容管理 -> 跑腿任务
- 功能：
  - 查看所有任务列表
  - 搜索任务（按标题、状态）
  - 查看任务详情
  - 删除任务（管理员可删除任何任务）

### 4. 论坛帖子管理
- 访问路径：内容管理 -> 论坛帖子
- 功能：
  - 查看所有帖子列表
  - 搜索帖子（按标题）
  - 查看帖子详情（包括内容、点赞数、评论数等）
  - 删除帖子（管理员可删除任何帖子）

## 技术说明

### 前端文件结构
```
ruoyi-ui/src/
├── api/dreamcampus/          # API接口
│   ├── secondhand.js         # 二手商品API
│   ├── errand.js             # 跑腿任务API
│   └── forum.js              # 论坛帖子API
└── views/dreamcampus/        # 管理页面
    ├── secondhand/
    │   └── index.vue         # 二手商品管理页面
    ├── errand/
    │   └── index.vue         # 跑腿任务管理页面
    └── forum/
        └── index.vue         # 论坛帖子管理页面
```

### 后端修改
- 修改了三个Controller的删除方法，允许管理员删除任何内容
- 文件位置：
  - `DcSecondhandGoodsController.java`
  - `DcErrandTaskController.java`
  - `DcForumPostController.java`

## 注意事项

1. 管理员账号的userId必须为1，才能拥有删除任何内容的权限
2. 在线状态是通过查询在线用户列表来判断的，可能会有轻微延迟
3. 删除操作不可恢复，请谨慎操作
4. 建议定期备份数据库

## 后续优化建议

1. 添加批量操作功能（批量删除、批量修改状态等）
2. 添加内容审核功能（审核通过/拒绝）
3. 添加数据统计功能（商品数量、任务数量、帖子数量等）
4. 添加操作日志查看功能
5. 优化在线状态刷新机制（定时刷新或WebSocket实时更新）

